# ===== Core Application Configuration =====
# Server Configuration
PORT=3000
NODE_ENV=development                                    # development, test, production

# Docker Build Configuration
DOCKER_TARGET=production                                # builder, production

# CORS Configuration
CORS_ORIGIN=http://localhost:3001                       # Comma separated list for multiple origins
ALLOWED_ORIGINS=http://localhost:3001,http://localhost:3000

# ===== ChimeraX Configuration =====
CHIMERAX_PATH=/path/to/chimerax                         # Absolute path to ChimeraX executable
CHIMERAX_BASE_PORT=6100                                 # Starting port for ChimeraX instances
MAX_CHIMERAX_INSTANCES=10                               # Maximum number of concurrent ChimeraX instances

# ===== Security Configuration =====
JWT_SECRET=                                             # Secret key for JWT signing (leave empty to auto-generate)
JWT_EXPIRES_IN=1h                                       # JWT token expiration
JWT_REFRESH_EXPIRES_IN=7d                               # JWT refresh token expiration
JWT_ISSUER=hashi-api                                    # JWT issuer
JWT_AUDIENCE=hashi-client                               # JWT audience
BCRYPT_SALT_ROUNDS=12                                   # Number of salt rounds for password hashing

# Admin User Configuration
ADMIN_EMAIL=admin@hashi.example.com                     # Default admin email
ADMIN_PASSWORD=ChangeMe123!                             # Default admin password (change immediately!)

# Rate Limiting
RATE_LIMIT_WINDOW=15                                    # Rate limit window in minutes
RATE_LIMIT_MAX=100                                      # Maximum number of requests per window

# Password Policies
PASSWORD_MIN_LENGTH=8                                   # Minimum password length
PASSWORD_MAX_LENGTH=128                                 # Maximum password length
PASSWORD_REQUIRES_SPECIAL_CHAR=true                     # Require at least one special character
PASSWORD_REQUIRES_NUMBER=true                           # Require at least one number
PASSWORD_REQUIRES_UPPERCASE=true                        # Require at least one uppercase letter
PASSWORD_REQUIRES_LOWERCASE=true                        # Require at least one lowercase letter

# ===== Database Configuration =====
DB_TYPE=postgres                                        # sqlite, postgres
DB_HOST=localhost                                       # Database host
DB_PORT=5432                                            # Database port
DB_USERNAME=postgres                                    # Database username
DB_PASSWORD=postgres                                    # Database password
DB_DATABASE=hashi                                       # Database name
DB_SYNCHRONIZE=false                                    # Automatically synchronize database schema (use with caution in production)
DB_LOGGING=false                                        # Enable database query logging
DB_ENTITIES_PATH=                                       # Custom path to entity definitions
DB_MIGRATIONS_PATH=                                     # Custom path to migration files
DB_MIGRATIONS_RUN=true                                  # Automatically run migrations on startup

# ===== Storage Configuration =====
STORAGE_BASE_PATH=./storage                             # Base path for file storage
STORAGE_MAX_SIZE_PER_USER=1024                          # Maximum storage size per user in MB (1024 = 1GB)
STORAGE_ALLOWED_FILE_TYPES=pdb,xyz,mol,mol2,sdf,cif     # Comma-separated list of allowed file extensions
STORAGE_MAX_VERSIONS_PER_STRUCTURE=10                   # Maximum number of versions per structure

# ===== Rendering Configuration =====
SNAPSHOT_DIR=./snapshots                                # Directory for storing rendered snapshots
MAX_CONCURRENT_RENDERING_JOBS=5                         # Maximum number of concurrent rendering jobs
DEFAULT_IMAGE_WIDTH=800                                 # Default image width for snapshots
DEFAULT_IMAGE_HEIGHT=600                                # Default image height for snapshots
MAX_IMAGE_WIDTH=3840                                    # Maximum image width for snapshots (4K)
MAX_IMAGE_HEIGHT=2160                                   # Maximum image height for snapshots (4K)

# ===== WebSocket Configuration =====
WEBSOCKET_PORT=3001                                     # WebSocket server port
WEBSOCKET_PATH=/ws                                      # WebSocket path
WEBSOCKET_HEARTBEAT_INTERVAL=30000                      # WebSocket heartbeat interval in ms (30 seconds)
WEBSOCKET_HEARTBEAT_TIMEOUT=10000                       # WebSocket heartbeat timeout in ms (10 seconds)
WEBSOCKET_MAX_CONNECTIONS=100                           # Maximum number of WebSocket connections
WEBSOCKET_MESSAGE_QUEUE_SIZE=50                         # Maximum size of message queue per connection
WEBSOCKET_MESSAGE_RETRY_ATTEMPTS=3                      # Number of retry attempts for failed messages
WEBSOCKET_MESSAGE_EXPIRY_TIME=60000                     # Message expiry time in ms (60 seconds)

# ===== Logging Configuration =====
LOG_LEVEL=info                                          # debug, info, warn, error
LOG_FORMAT=json                                         # json, text
LOG_CORRELATION_HEADER=x-correlation-id                 # Header name for correlation ID

# ===== Monitoring Configuration =====
ENABLE_METRICS=true                                     # Enable Prometheus metrics
METRICS_PORT=9091                                       # Port for metrics server
METRICS_PATH=/metrics                                   # Path for metrics endpoint
METRICS_PREFIX=hashi_                                   # Prefix for metrics names

# ===== Grafana Configuration =====
GRAFANA_ADMIN_PASSWORD=admin                            # Admin password for Grafana